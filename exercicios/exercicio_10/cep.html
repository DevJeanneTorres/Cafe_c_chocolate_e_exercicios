<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicio 10</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
<form action="submit.php" method="post">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" required><br><br>
    <label for="cpf">CPF:</label>
    <input type="text" id="cpf" name="cpf" required><br><br>
    <label for="data_nascimento">Data de Nascimento:</label>
    <input type="date" id="data_nascimento" name="data_nascimento" required><br><br>
    <label for="telefone_celular">Telefone Celular:</label>
    <input type="text" id="telefone_celular" name="telefone_celular" required><br><br>
    <label for="cep">CEP:</label>
    <input type="text" id="cep" name="cep" required><br><br>  
    <label for="endereco">Endereço:</label > 
    <input type="text" id="endereco" name="endereco" required><br><br>
    <label for="num">Num:</label>
    <input type="text" id="num" name="num" required><br><br>
    <label for="complemento">Complemento:</label>
    <input type="text" id="complemento" name="complemento"><br><br>
    <label for="bairro">Bairro:</label>
    <input type="text" id="bairro" name="bairro" required><br><br>
    <label for="cidade">Cidade:</label>
    <input type="text" id="cidade" name="cidade" required><br><br>
    <label for="estado">Estado:</label>
    <input type="text" id="estado" name="estado" required><br><br>
    <label for="email">E-mail:</label>
    <input type="email" id="email" name="email" required><br><br>
    <button onclick=""> Enviar</button>
    </form>
    <script>
        function buscarCep() {
            var cep = document.getElementById("cep").value;
            fetch(`https://viacep.com.br/ws/${cep}/json`)
             .then(response => response.json())
             .then(data => {
                if (data.erro) {
                  alert("CEP inválido");
                  return;
                }
                document.getElementById("endereco").value = data.logradouro;
                document.getElementById("bairro").value = data.bairro;
                document.getElementById("cidade").value = data.localidade;
                document.getElementById("estado").value = data.uf;
              });
          }
          document.getElementById("cep").addEventListener("blur", buscarCep);
          document.getElementById("cep").addEventListener("input", buscarCep);
    </script>
 </form> 
</body>
</html>